!function(){"use strict";var e=document.documentElement,t=document.querySelector('meta[name="viewport"]'),n=window.__MAX_WIDTH__||750,i=window.__DIV_PART__||15,o=window.__BODY_SIZE__||12,a=1,r=1,d=null;if(t){console.warn("根据已有的meta标签来设置缩放比例");var m=t.getAttribute("content").match(/initial-scale=([\d.]+)/);m&&(a=parseFloat(m[1]),r=parseInt(1/a))}else{window.navigator.appVersion.match(/iphone/gi)&&(a=1/(r=parseInt(window.devicePixelRatio)||1));var s=document.createElement("meta");s.setAttribute("name","viewport"),s.setAttribute("content","initial-scale="+a+", maximum-scale="+a+", minimum-scale="+a+", user-scalable=no"),e.firstElementChild.appendChild(s)}function c(){var t=e.getBoundingClientRect().width;t/r>n&&(t=n*r),window.remUnit=t/i,e.style.fontSize=window.remUnit+"px"}e.setAttribute("data-dpr",r),window.addEventListener("resize",function(){clearTimeout(d),d=setTimeout(c,300)},!1),window.addEventListener("pageshow",function(e){e.persisted&&c()},!1),document.addEventListener("DOMContentLoaded",function(){document.body.style.fontSize=o*r+"px"},!1),c(),window.px2rem=function(e){var t=parseFloat(e)/window.remUnit;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t},window.rem2px=function(e){var t=parseFloat(e)*window.remUnit;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t}}();
